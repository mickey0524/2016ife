<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>test_15</title>
</head>
<body>
  	<ul id="source">
	    <li>北京空气质量：<b>90</b></li>
	    <li>上海空气质量：<b>70</b></li>
	    <li>天津空气质量：<b>80</b></li>
	    <li>广州空气质量：<b>50</b></li>
	    <li>深圳空气质量：<b>40</b></li>
	    <li>福州空气质量：<b>32</b></li>
	    <li>成都空气质量：<b>90</b></li>
  	</ul>

  	<ul id="resort">

  	</ul>
  	<button id="sort-btn">排序</button>
  	<script type="text/javascript">
		var $ = function(id) {
			return document.getElementById(id);
		}

		function getData() {
	  		var old_ul = $("source").getElementsByTagName("li");
	  		var arr = new Array();
	  		var city, num;
	  		for(var i = 0; i < old_ul.length; i++) {
	  			city = old_ul[i].innerHTML.substring(0, old_ul[i].innerHTML.indexOf("空"));
	  			num = old_ul[i].getElementsByTagName("b")[0].innerHTML;
	  			arr.push([city, num]);
	  		}

	  		return arr;
  		}	

  		function sortAqiData(data) {
  			data.sort(function(value1, value2) {
  				return value2[1] - value1[1];
  			})
  			return data;
  		}

  		function render(data) {
  			var new_ul = $("resort");
  			for(var i = 0; i < data.length; i++) {
  				var li = document.createElement("li");
  				li.innerHTML = data[i][0] + "空气质量：<b>" + data[i][1] + "</b>"; 
  				new_ul.appendChild(li);
  			}
  		}

  		function btnHandle() {
  			var aqiData = getData();
  			aqiData = sortAqiData(aqiData);
  			render(aqiData);
  		}

  		function init() {
  			$("sort-btn").onclick = function() {
  				btnHandle();
  			}
  		}

  		init();

  	</script>
</body>
</html>